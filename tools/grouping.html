<!DOCTYPE html>
<html lang='ja'>
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="./css/common.css">
        <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css"/>
        <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    </head>

    <body>
        <!-- PyScript -->
        <py-config>
            packages = ["numpy", "matplotlib", "seaborn"]
        </py-config>

        <script type="py" src="./pyscripts/grouping.py"></script>

        <!-- Body -->
        <h1>グループ分けツール</h1>

        <!-- 情報入力 -->
        <div class="flex">
            <div>
                <h2>メンバー名</h2>
                <textarea id="member-names" class="py-input" type="text" rows="10" cols="20"></textarea>
            </div>
            <div>
                <h2>グループ名</h2>
                <textarea id="group-names" class="py-input" type="text" rows="10" cols="20"></textarea>
            </div>
            <div>
                <h2>グループ人数</h2>
                <textarea id="group-sizes" class="py-input" type="text" rows="10" cols="20"></textarea>
            </div>
        </div>
        <br>
        
        <!-- ツール実行 -->
        <button class="py-button" type="submit" py-click="main()" >次のグループ分け</button>

        <!-- 結果 -->
        <h2>結果</h2>
        <div id="result"></div>

        <!-- オプション -->
        <h2>オプション</h2>
        <div class="flex">
            <input id="add-member" class="py-input" type="text" value="Comming Soon"/>
            <button class="py-button" type="submit" py-click="add_member()">メンバー追加</button>
        </div>
        <br>
        <div class="flex">
            <input id="remove-member" class="py-input" type="text" value="Comming Soon"/>
            <button class="py-button" type="submit" py-click="remove_member()">メンバー削除</button>
        </div>
        
        <div class="flex">
            <!-- 統計 -->
            <div>
                <h2>統計</h2>
                <span id="stats"></span>
            </div>
    
            <!-- ツールステータス -->
            <div>
                <h2>ステータス</h2>
                <textarea id="status" class="py-input" type="text" rows="10" cols="50"></textarea>
            </div>
        </div>

        <!-- Initializer -->
        <py-script>
            initialize_member_info()
            initialize_group_info()
            initialize_status()
            dump_pair_matrix()
        </py-script>


        <small>&copy; <a href="https://twitter.com/tsukasa__diary" target="_blank" rel="noopener noreferrer">tsukasa_diary</a> 2023</small>
    </body>
</html>
